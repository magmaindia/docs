

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Installation of srsRAN &mdash; Magma India Documentation 0.1.0 documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Architecture" href="../architecture/index.html" />
    <link rel="prev" title="Installation of Access Gateway" href="agw-installation.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> Magma India Documentation
          

          
            
            <img src="../../_static/magma-logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Magma Virtual Labs</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Installation</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="orc8r-installation.html">Installation of Orchestrator with one IP instead of five</a></li>
<li class="toctree-l3"><a class="reference internal" href="agw-installation.html">Installation of Access Gateway</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Installation of srsRAN</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li class="toctree-l4"><a class="reference internal" href="#preparing-magma-for-ue-traffic-in-your-nms">Preparing Magma for UE traffic in Your NMS</a></li>
<li class="toctree-l4"><a class="reference internal" href="#add-your-ssh-public-key-to-the-srsran-vm-for-ansible">Add Your SSH Public Key to the srsRAN VM for Ansible</a></li>
<li class="toctree-l4"><a class="reference internal" href="#update-hosts-bind-ip-mme-address-in-hosts-yml-file">Update hosts, bind_ip, mme address in hosts.yml file</a></li>
<li class="toctree-l4"><a class="reference internal" href="#deploy-srsran">Deploy srsRAN</a></li>
<li class="toctree-l4"><a class="reference internal" href="#verify-setup">Verify setup</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/index.html">Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../services/index.html">Magma Services</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../5gLab/index.html">5G Virtual Lab</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../help.html">Help</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Magma India Documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../index.html">Magma Virtual Labs</a> &raquo;</li>
        
          <li><a href="index.html">Installation</a> &raquo;</li>
        
      <li>Installation of srsRAN</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            
              <a href="https://github.com/magmaindia/docs/blob/master/docs/labs/installation/srsRAN-installation.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="installation-of-srsran">
<h1>Installation of srsRAN<a class="headerlink" href="#installation-of-srsran" title="Permalink to this headline">¶</a></h1>
<p>First, we need to clone this repo (<a class="reference external" href="https://github.com/ShubhamTatvamasi/srsRAN-demo">https://github.com/ShubhamTatvamasi/srsRAN-demo</a>)</p>
<div class="section" id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<p>You already have a Magma AGW and Orchestrator running and have access to the NMS in order to make changes. This will include installing many other dependencies, some of which will be used in this demo.
Importantly, you will probably already have Ansible installed
And have Vagrant installed along with Virtualbox
When finished with these, you will also need an additional Ansible dependency which you can download with:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ansible-galaxy collection install community.docker
</pre></div>
</div>
</div>
<div class="section" id="preparing-magma-for-ue-traffic-in-your-nms">
<h2>Preparing Magma for UE traffic in Your NMS<a class="headerlink" href="#preparing-magma-for-ue-traffic-in-your-nms" title="Permalink to this headline">¶</a></h2>
<p>Visit your NMS at something like: <code class="docutils literal notranslate"><span class="pre">https://orgdomain.nms.orc8r.yourdomain.com</span></code></p>
<p>This assumes that you have already created and deployed the Magma AGW and Orchestrator including an organizational subdomain. Visit your NMS at something like: <a class="reference external" href="https://orgdomain.nms.orc8r.yourdomain.com">https://orgdomain.nms.orc8r.yourdomain.com</a>
Then go to Traffic -&gt; APNs -&gt; Create New APN</p>
<a class="reference internal image-reference" href="../../_images/new-apns.png"><img alt="Alternative text" src="../../_images/new-apns.png" style="width: 800px;" /></a>
<p>Create an APN plan with an id of <code class="docutils literal notranslate"><span class="pre">default</span></code>.
Then, go to the Network tab and edit the EPC section:</p>
<a class="reference internal image-reference" href="../../_images/network.png"><img alt="Alternative text" src="../../_images/network.png" style="width: 800px;" /></a>
<p>In this window change the MCC, MNC and TAC to the following:
- MCC -&gt; 001
- MNC -&gt; 01
- TAC -&gt; 7
Next, upload the subscribers.csv IMSI list in this repository to your NMS UEs under Subscriber -&gt; Config -&gt; Add Subscriber:</p>
<a class="reference internal image-reference" href="../../_images/new-apns.png"><img alt="Alternative text" src="../../_images/new-apns.png" style="width: 800px;" /></a>
<p>Then press the upload button, select the file, and save it afterward:</p>
<a class="reference internal image-reference" href="../../_images/upload-and-save.png"><img alt="Alternative text" src="../../_images/upload-and-save.png" style="width: 800px;" /></a>
</div>
<div class="section" id="add-your-ssh-public-key-to-the-srsran-vm-for-ansible">
<h2>Add Your SSH Public Key to the srsRAN VM for Ansible<a class="headerlink" href="#add-your-ssh-public-key-to-the-srsran-vm-for-ansible" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="update-hosts-bind-ip-mme-address-in-hosts-yml-file">
<h2>Update hosts, bind_ip, mme address in hosts.yml file<a class="headerlink" href="#update-hosts-bind-ip-mme-address-in-hosts-yml-file" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="deploy-srsran">
<h2>Deploy srsRAN<a class="headerlink" href="#deploy-srsran" title="Permalink to this headline">¶</a></h2>
<p>Now we can use Ansible to install Docker within the Vagrant VM, build the srsRAN images and then kick off a demo.
Install Docker and srsRAN on the srsRAN Vagrant VM with Ansible:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ansible-playbook install-everything.yaml
</pre></div>
</div>
<p>This should automatically start the process of connecting to your AGW with one of the UEs.</p>
</div>
<div class="section" id="verify-setup">
<h2>Verify setup<a class="headerlink" href="#verify-setup" title="Permalink to this headline">¶</a></h2>
<p>To verify that the process was successful check the docker logs from inside the srsRAN Vagrant VM:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker logs srsue -f
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="../architecture/index.html" class="btn btn-neutral float-right" title="Architecture" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="agw-installation.html" class="btn btn-neutral float-left" title="Installation of Access Gateway" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2022, Magma India.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>